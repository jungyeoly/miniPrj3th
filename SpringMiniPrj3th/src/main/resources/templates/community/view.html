<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{/include/head :: header}">
</head>
<body>
    <!-- Start Top Nav -->
    <div th:replace="~{/include/body-header :: bodyHeader}"></div>
    <!-- Close Top Nav -->

    <!-- Header -->
    <div th:replace="~{/include/navbar :: navbar}"></div>
    <!-- Close Header -->

    <table>
        <thead>
            <tr>
                <th>NO</th>
                <th>아이디</th>
                <th>제목</th>
                <th>작성시간</th>
                <th>내용</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td th:text="${community.writeId}"></td>
                <td th:text="${community.userId}"></td>
                <td th:text="${community.writeTitle}"></td>    
                <td th:text="${community.formattedWriteDate}"></td>
                <td th:text="${community.writeContent}"></td>                                
            </tr>
        </tbody>
    </table>
    
    <div>
        <a th:href="@{/community/list}"><button type="button" class="btn list">목록</button></a>
        <a th:href="@{/community/update/{writeId}(writeId=${community.writeId})}"><button type="button" class="btn update">수정</button></a>
        <a type="button" class="btn delete" onclick="deleteArticleByWriteId();">삭제</a>
        <input type=hidden id="writeId" th:value="${community.writeId}">
    </div>

    <!-- Start Footer -->
    <div th:replace="~{/include/footer :: footer}"></div>
    <!-- End Footer -->

<script>
    function deleteArticleByWriteId() {
        var writeId = document.getElementById('writeId').value;
        var chk = confirm(writeId + "번 게시글을 삭제하시겠습니까?");

        if (chk) {
            location.href = "/community/delete?writeId=" + writeId;
        }
    }
</script>
</body>
</html>
